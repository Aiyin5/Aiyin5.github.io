<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.58" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://aiyin5.github.io/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html"><meta property="og:site_name" content="è‰¾å› çš„åšå®¢"><meta property="og:title" content="åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚"><meta property="og:description" content="åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚ 2.1 Predictable Demands 2.1 å¯é¢„æµ‹çš„éœ€æ±‚ The foundation of successful application deployment, management, and coexistence on a shared cloud environment is dependent on identifying and declaring the application resource requirements and runtime dependencies. This Predictable Demands pattern is about how you should declare application requirements, whether they are hard runtime dependencies or resource requirements. Declaring your requirements is essential for Kubernetes to find the right place for your application within the cluster."><meta property="og:type" content="article"><meta property="og:updated_time" content="2023-01-12T05:00:13.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="ç¿»è¯‘"><meta property="article:published_time" content="2023-01-05T00:00:00.000Z"><meta property="article:modified_time" content="2023-01-12T05:00:13.000Z"><title>åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚ | è‰¾å› çš„åšå®¢</title><meta name="description" content="åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚ 2.1 Predictable Demands 2.1 å¯é¢„æµ‹çš„éœ€æ±‚ The foundation of successful application deployment, management, and coexistence on a shared cloud environment is dependent on identifying and declaring the application resource requirements and runtime dependencies. This Predictable Demands pattern is about how you should declare application requirements, whether they are hard runtime dependencies or resource requirements. Declaring your requirements is essential for Kubernetes to find the right place for your application within the cluster.">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-8a9a9b01.css" as="style"><link rel="stylesheet" href="/assets/style-8a9a9b01.css">
    <link rel="modulepreload" href="/assets/app-5055a841.js"><link rel="modulepreload" href="/assets/framework-e28fa486.js"><link rel="modulepreload" href="/assets/å¯é¢„æµ‹çš„éœ€æ±‚.html-28055af0.js"><link rel="modulepreload" href="/assets/å¯é¢„æµ‹çš„éœ€æ±‚.html-8019ea16.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/rabbitMan.jpg" alt="è‰¾å› çš„åšå®¢"><!----><span class="site-name hide-in-pad">è‰¾å› çš„åšå®¢</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!----><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è‰¾å› çš„ä¸–ç•Œ"><span class="title"><span class="icon iconfont icon-discover"></span>è‰¾å› çš„ä¸–ç•Œ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0.html" class="nav-link" aria-label="å…³äºè‰¾å› "><span class="icon iconfont icon-edit"></span>å…³äºè‰¾å› <!----></a></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ç”Ÿæ´»ä½“éªŒ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E7%94%9F%E6%B4%BB%E4%BD%93%E9%AA%8C/%E4%B8%8A%E6%B5%B7.html" class="nav-link" aria-label="ä¸Šæµ·"><span class="icon iconfont icon-edit"></span>ä¸Šæµ·<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E7%94%9F%E6%B4%BB%E4%BD%93%E9%AA%8C/%E6%9D%AD%E5%B7%9E.html" class="nav-link" aria-label="æ­å·"><span class="icon iconfont icon-edit"></span>æ­å·<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E7%94%9F%E6%B4%BB%E4%BD%93%E9%AA%8C/%E5%AE%89%E5%90%89.html" class="nav-link" aria-label="å®‰å‰"><span class="icon iconfont icon-edit"></span>å®‰å‰<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E7%94%9F%E6%B4%BB%E4%BD%93%E9%AA%8C/%E5%A4%A7%E7%90%86.html" class="nav-link" aria-label="å¤§ç†"><span class="icon iconfont icon-edit"></span>å¤§ç†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å…³äºå¨å¸ˆ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E5%85%B3%E4%BA%8E%E5%8E%A8%E5%B8%88/%E8%89%BE%E5%9B%A0%E5%AE%B6%E7%9A%84%E8%8F%9C%E8%B0%B1.html" class="nav-link" aria-label="è‰¾å› å®¶çš„èœè°±"><span class="icon iconfont icon-edit"></span>è‰¾å› å®¶çš„èœè°±<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E8%89%BE%E5%9B%A0/%E5%85%B3%E4%BA%8E%E5%8E%A8%E5%B8%88/%E8%89%BE%E5%9B%A0%E5%AE%B6%E7%9A%84%E7%94%9C%E5%93%81.html" class="nav-link" aria-label="è‰¾å› å®¶çš„ç”œå“"><span class="icon iconfont icon-edit"></span>è‰¾å› å®¶çš„ç”œå“<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>è§†é‡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/å…³äºè‰¾å› /è§†é‡/1" class="nav-link" aria-label="tobeContinue"><span class="icon iconfont icon-edit"></span>tobeContinue<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="é¡¹ç›®"><span class="title"><span class="icon iconfont icon-edit"></span>é¡¹ç›®</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/posts/%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3/%E9%A3%8E%E6%8E%A7%E5%86%B3%E7%AD%96%E5%BC%95%E6%93%8E.html" class="nav-link" aria-label="é£æ§å†³ç­–å¼•æ“ç›¸å…³"><span class="icon iconfont icon-edit"></span>é£æ§å†³ç­–å¼•æ“ç›¸å…³<!----></a></li><li class="dropdown-item"><a href="/zh/posts/%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3/FreeBe%E7%9B%B8%E5%85%B3.html" class="nav-link" aria-label="FreeBeç›¸å…³"><span class="icon iconfont icon-edit"></span>FreeBeç›¸å…³<!----></a></li><li class="dropdown-item"><a href="/zh/posts/%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5%E5%8F%8A%E5%8D%9A%E5%AE%A2.html" class="nav-link" aria-label="ä¸ªäººä¸»é¡µåŠåšå®¢"><span class="icon iconfont icon-edit"></span>ä¸ªäººä¸»é¡µåŠåšå®¢<!----></a></li><li class="dropdown-item"><a href="/zh/posts/%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3/AI%E9%A1%B9%E7%9B%AE/%E6%88%91%E7%94%A8AI%E5%81%9A%E4%BA%9B%E4%BB%80%E4%B9%88.html" class="nav-link" aria-label="AIé¡¹ç›®ç›¸å…³"><span class="icon iconfont icon-edit"></span>AIé¡¹ç›®ç›¸å…³<!----></a></li><li class="dropdown-item"><a href="/zh/posts/%E9%A1%B9%E7%9B%AE%E7%9B%B8%E5%85%B3/DiscordBot/DiscordBot%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%A1%88.html" class="nav-link" aria-label="DiscordBot Create"><span class="icon iconfont icon-edit"></span>DiscordBot Create<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æŠ€æœ¯"><span class="title"><span class="icon iconfont icon-edit"></span>æŠ€æœ¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é¢˜è§£</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/LeetCode%E9%A2%98%E8%A7%A3/LeetCode%E9%A2%98%E8%A7%A3.html" class="nav-link" aria-label="LeetCodeé¢˜è§£"><span class="icon iconfont icon-edit"></span>LeetCodeé¢˜è§£<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ç®—æ³•</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/%E5%9B%BE%E8%AE%BA%E6%95%B4%E7%90%86.html" class="nav-link" aria-label="å›¾è®ºæ•´ç†"><span class="icon iconfont icon-edit"></span>å›¾è®ºæ•´ç†<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2%E8%BE%B9%E7%95%8C%E5%88%A4%E6%96%AD.html" class="nav-link" aria-label="äºŒåˆ†æœç´¢è¾¹ç•Œåˆ¤æ–­"><span class="icon iconfont icon-edit"></span>äºŒåˆ†æœç´¢è¾¹ç•Œåˆ¤æ–­<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E7%AE%97%E6%B3%95/%E5%B9%B6%E6%9F%A5%E9%9B%86.html" class="nav-link" aria-label="å¹¶æŸ¥é›†"><span class="icon iconfont icon-edit"></span>å¹¶æŸ¥é›†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åç«¯</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E5%90%8E%E7%AB%AF/java%E5%9F%BA%E7%A1%80.html" class="nav-link" aria-label="javaåŸºç¡€"><span class="icon iconfont icon-edit"></span>javaåŸºç¡€<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93.html" class="nav-link" aria-label="æ•°æ®åº“"><span class="icon iconfont icon-edit"></span>æ•°æ®åº“<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E5%90%8E%E7%AB%AF/redis.html" class="nav-link" aria-label="redis"><span class="icon iconfont icon-edit"></span>redis<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E5%90%8E%E7%AB%AF/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6.html" class="nav-link" aria-label="å¼€å‘æ¡†æ¶"><span class="icon iconfont icon-edit"></span>å¼€å‘æ¡†æ¶<!----></a></li><li class="dropdown-subitem"><a href="/zh/posts/%E5%85%B3%E4%BA%8E%E6%8A%80%E6%9C%AF/%E5%90%8E%E7%AB%AF/%E7%9F%A5%E8%AF%86%E9%93%BE%E6%8E%A5.html" class="nav-link" aria-label="çŸ¥è¯†é“¾æ¥"><span class="icon iconfont icon-edit"></span>çŸ¥è¯†é“¾æ¥<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ–‡ç« ç¿»è¯‘"><span class="title"><span class="icon iconfont icon-edit"></span>æ–‡ç« ç¿»è¯‘</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E6%A8%A1%E5%BC%8F%E8%AE%BE%E8%AE%A1.html" class="nav-link" aria-label="K8sæ¨¡å¼"><span class="icon iconfont icon-edit"></span>K8sæ¨¡å¼<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/about/About.html" class="nav-link" aria-label="å…³äº"><span class="icon iconfont icon-discover"></span>å…³äº<!----></a></div></nav><div class="nav-item"><a class="repo-link" href="https://github.com/Aiyin5/Aiyin5.github.io" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home"></span>ä¸»é¡µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-note"></span><span class="title">æ–‡ç« </span><!----></p><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">å…³äºæŠ€æœ¯</span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">å…³äºè‰¾å› </span><span class="arrow right"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">æ–‡ç« ç¿»è¯‘</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">K8sæ¨¡å¼</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E6%A8%A1%E5%BC%8F%E8%AE%BE%E8%AE%A1.html" class="nav-link sidebar-link sidebar-page" aria-label="K8sæ¨¡å¼ç¿»è¯‘"><span class="icon iconfont icon-page"></span>K8sæ¨¡å¼ç¿»è¯‘<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">K8såŸºç¡€æ¨¡å¼</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="ç¬¬äºŒç«  åŸºç¡€æ¨¡å¼"><span class="icon iconfont icon-page"></span>ç¬¬äºŒç«  åŸºç¡€æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚"><span class="icon iconfont icon-page"></span>åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-predictable-demands" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 Predictable Demands"><!---->2.1 Predictable Demands<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-å¯é¢„æµ‹çš„éœ€æ±‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 å¯é¢„æµ‹çš„éœ€æ±‚"><!---->2.1 å¯é¢„æµ‹çš„éœ€æ±‚<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-1-problem" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1.1 Problem"><!---->2.1.1 Problem<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-1-é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1.1 é—®é¢˜"><!---->2.1.1 é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-2-solution" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1.2 Solution"><!---->2.1.2 Solution<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-2-è§£å†³æ–¹æ¡ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1.2 è§£å†³æ–¹æ¡ˆ"><!---->2.1.2 è§£å†³æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%A3%B0%E6%98%8E%E6%80%A7%E9%83%A8%E7%BD%B2.html" class="nav-link sidebar-link sidebar-page" aria-label="åŸºç¡€æ¨¡å¼ å£°æ˜å¼éƒ¨ç½²"><span class="icon iconfont icon-page"></span>åŸºç¡€æ¨¡å¼ å£°æ˜å¼éƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%81%A5%E5%BA%B7%E6%8E%A2%E9%92%88.html" class="nav-link sidebar-link sidebar-page" aria-label="åŸºç¡€æ¨¡å¼ å¥åº·æ¢é’ˆ"><span class="icon iconfont icon-page"></span>åŸºç¡€æ¨¡å¼ å¥åº·æ¢é’ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E6%89%98%E7%AE%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="åŸºç¡€æ¨¡å¼ æ‰˜ç®¡ç”Ÿå‘½å‘¨æœŸ"><span class="icon iconfont icon-page"></span>åŸºç¡€æ¨¡å¼ æ‰˜ç®¡ç”Ÿå‘½å‘¨æœŸ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%B8%83%E5%B1%80%EF%BC%88Pod%E7%9A%84%E6%94%BE%E7%BD%AE%EF%BC%89.html" class="nav-link sidebar-link sidebar-page" aria-label="åŸºç¡€æ¨¡å¼ è‡ªåŠ¨åŒ–å¸ƒå±€"><span class="icon iconfont icon-page"></span>åŸºç¡€æ¨¡å¼ è‡ªåŠ¨åŒ–å¸ƒå±€<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">K8sçš„ç®€ä»‹</span><span class="arrow right"></span></button><!----></section></li></ul></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">é¡¹ç›®ç›¸å…³</span><span class="arrow right"></span></button><!----></section></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-page"></span>åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="http://www.aiyin.xyz" target="_blank" rel="noopener noreferrer">è‰¾å› </a></span><span property="author" content="è‰¾å› "></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-01-05T00:00:00.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="category-item category4 clickable" role="navigation">æŠ€æœ¯</span><span class="category-item category2 clickable" role="navigation">K8s</span><meta property="articleSection" content="æŠ€æœ¯,K8s"></span><span class="tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="tag-item tag-item1 clickable" role="navigation">ç¿»è¯‘</span><meta property="keywords" content="ç¿»è¯‘"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 25 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT25M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-predictable-demands" class="router-link-active router-link-exact-active toc-link level2">2.1 Predictable Demands</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-å¯é¢„æµ‹çš„éœ€æ±‚" class="router-link-active router-link-exact-active toc-link level2">2.1 å¯é¢„æµ‹çš„éœ€æ±‚</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-1-problem" class="router-link-active router-link-exact-active toc-link level3">2.1.1 Problem</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-1-é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">2.1.1 é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-2-solution" class="router-link-active router-link-exact-active toc-link level3">2.1.2 Solution</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%8F%AF%E9%A2%84%E6%B5%8B%E7%9A%84%E9%9C%80%E6%B1%82.html#_2-1-2-è§£å†³æ–¹æ¡ˆ" class="router-link-active router-link-exact-active toc-link level3">2.1.2 è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚" aria-hidden="true">#</a> åŸºç¡€æ¨¡å¼-å¯é¢„æµ‹çš„éœ€æ±‚</h1><h2 id="_2-1-predictable-demands" tabindex="-1"><a class="header-anchor" href="#_2-1-predictable-demands" aria-hidden="true">#</a> 2.1 Predictable Demands</h2><h2 id="_2-1-å¯é¢„æµ‹çš„éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_2-1-å¯é¢„æµ‹çš„éœ€æ±‚" aria-hidden="true">#</a> 2.1 å¯é¢„æµ‹çš„éœ€æ±‚</h2><p>The foundation of successful application deployment, management, and coexistence on a shared cloud environment is dependent on identifying and declaring the application resource requirements and runtime dependencies. This Predictable Demands pattern is about how you should declare application requirements, whether they are hard runtime dependencies or resource requirements. Declaring your requirements is essential for Kubernetes to find the right place for your application within the cluster.</p><p>åœ¨å…±äº«äº‘ç¯å¢ƒä¸­æˆåŠŸéƒ¨ç½²ã€ç®¡ç†å’Œåä½œåº”ç”¨ç¨‹åºçš„åŸºç¡€ï¼Œæ˜¯ä¾èµ–äºåº”ç”¨ç¨‹åºå¯ä»¥æ¸…æ™°çš„å¯¹èµ„æºéœ€æ±‚å’Œè¿è¡Œæ—¶ä¾èµ–æ€§å£°æ˜ã€‚è¿™ä¸ªå¯é¢„æµ‹çš„éœ€æ±‚æ¨¡å¼æ˜¯å…³äºå¦‚ä½•å£°æ˜åº”ç”¨ç¨‹åºéœ€æ±‚çš„ï¼ŒåŒ…æ‹¬ç¡¬ä»¶ä¸Šçš„è¿è¡Œæ—¶ä¾èµ–é¡¹å’Œè½¯ä»¶èµ„æºéœ€æ±‚ã€‚å£°æ˜éœ€æ±‚å¯¹äºKubernetesåœ¨é›†ç¾¤ä¸­åº”ç”¨ç¨‹åºæ‰¾åˆ°åˆé€‚çš„ä½ç½®æœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚</p><h3 id="_2-1-1-problem" tabindex="-1"><a class="header-anchor" href="#_2-1-1-problem" aria-hidden="true">#</a> 2.1.1 Problem</h3><h3 id="_2-1-1-é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_2-1-1-é—®é¢˜" aria-hidden="true">#</a> 2.1.1 é—®é¢˜</h3><p>Kubernetes can manage applications written in different programming languages as long as the application can be run in a container. However, different languages have different resource requirements. Typically, a compiled language runs faster and often requires less memory compared to just-in-time runtimes or interpreted languages. Considering that many modern programming languages in the same category have similar resource requirements, from a resource consumption point of view, more important aspects are the domain, the business logic of an application, and the actual implementation details.</p><p>åªè¦åº”ç”¨ç¨‹åºå¯ä»¥åœ¨å®¹å™¨ä¸­è¿è¡Œï¼ŒKuberneteså°±å¯ä»¥ç®¡ç†ç”¨ä¸åŒç¼–ç¨‹è¯­è¨€ç¼–å†™çš„åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯ï¼Œä¸åŒçš„è¯­è¨€æœ‰ä¸åŒçš„èµ„æºéœ€æ±‚ã€‚é€šå¸¸ï¼Œä¸å³æ—¶è¿è¡Œæ—¶æˆ–è§£é‡Šè¯­è¨€ç›¸æ¯”ï¼Œç¼–è¯‘è¯­è¨€è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œé€šå¸¸éœ€è¦æ›´å°‘çš„å†…å­˜ã€‚è€ƒè™‘åˆ°åŒä¸€ç±»åˆ«ä¸­çš„è®¸å¤šç°ä»£ç¼–ç¨‹è¯­è¨€å…·æœ‰ç›¸ä¼¼çš„èµ„æºéœ€æ±‚ï¼Œä»èµ„æºæ¶ˆè€—çš„è§’åº¦æ¥çœ‹ï¼Œæ›´é‡è¦çš„æ–¹é¢æ˜¯é¢†åŸŸã€åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘å’Œå®é™…å®ç°ç»†èŠ‚ã€‚</p><p>It is difficult to predict the amount of resources a container may need to function optimally, and it is the developer who knows the resource expectations of a service implementation (discovered through testing). Some services have a fixed CPU and memory consumption profile, and some are spiky. Some services need persistent storage to store data; some legacy services require a fixed port number on the host system to work correctly. Defining all these application characteristics and passing them to the managing platform is a fundamental prerequisite for cloud-native applications.</p><p>å¾ˆéš¾é¢„æµ‹å®¹å™¨å®ç°æœ€ä½³åŠŸèƒ½æ‰€éœ€çš„èµ„æºé‡ï¼Œè€Œå¼€å‘äººå‘˜çŸ¥é“æœåŠ¡å®ç°çš„èµ„æºæœŸæœ›ï¼ˆé€šè¿‡æµ‹è¯•å‘ç°ï¼‰ã€‚æœ‰äº›æœåŠ¡å…·æœ‰å›ºå®šçš„CPUå’Œå†…å­˜æ¶ˆè€—æ¨¡å¼ï¼Œæœ‰äº›åˆ™æ˜¯å°–å³°çš„ã€‚æœ‰äº›æœåŠ¡éœ€è¦æŒä¹…å­˜å‚¨æ¥å­˜å‚¨æ•°æ®ï¼›æŸäº›ä¼ ç»ŸæœåŠ¡éœ€è¦ä¸»æœºç³»ç»Ÿä¸Šçš„å›ºå®šç«¯å£å·æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚å®šä¹‰æ‰€æœ‰è¿™äº›åº”ç”¨ç¨‹åºç‰¹å¾å¹¶å°†å…¶ä¼ é€’ç»™ç®¡ç†å¹³å°æ˜¯äº‘åŸç”Ÿåº”ç”¨ç¨‹åºçš„åŸºæœ¬å…ˆå†³æ¡ä»¶ã€‚</p><p>Besides resource requirements, application runtimes also have dependencies on platform-managed capabilities like data storage or application configuration.</p><p>é™¤äº†èµ„æºéœ€æ±‚å¤–ï¼Œåº”ç”¨ç¨‹åºè¿è¡Œæ—¶è¿˜ä¾èµ–äºå¹³å°ç®¡ç†çš„åŠŸèƒ½ï¼Œå¦‚æ•°æ®å­˜å‚¨æˆ–åº”ç”¨ç¨‹åºé…ç½®ã€‚</p><h3 id="_2-1-2-solution" tabindex="-1"><a class="header-anchor" href="#_2-1-2-solution" aria-hidden="true">#</a> 2.1.2 Solution</h3><h3 id="_2-1-2-è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_2-1-2-è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 2.1.2 è§£å†³æ–¹æ¡ˆ</h3><p>Knowing the runtime requirements for a container is important mainly for two reasons.First, with all the runtime dependencies defined and resource demands envisaged,Kubernetes can make intelligent decisions for where to place a container on the cluster for most efficient hardware utilization. In an environment with shared resources among a large number of processes with different priorities, the only way for a successful coexistence is to know the demands of every process in advance. However, intelligent placement is only one side of the coin.</p><p>äº†è§£å®¹å™¨çš„è¿è¡Œæ—¶éœ€æ±‚éå¸¸é‡è¦ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ã€‚é¦–å…ˆï¼Œå®šä¹‰äº†æ‰€æœ‰çš„è¿è¡Œæ—¶ä¾èµ–é¡¹å¹¶è®¾æƒ³äº†èµ„æºéœ€æ±‚ï¼ŒKuberneteså¯ä»¥æ™ºèƒ½åœ°å†³å®šåœ¨é›†ç¾¤ä¸Šæ”¾ç½®å®¹å™¨çš„ä½ç½®ï¼Œä»¥å®ç°æœ€é«˜æ•ˆçš„ç¡¬ä»¶åˆ©ç”¨ç‡ã€‚åœ¨å¤§é‡å…·æœ‰ä¸åŒä¼˜å…ˆçº§çš„æµç¨‹å…±äº«èµ„æºçš„ç¯å¢ƒä¸­ï¼ŒæˆåŠŸå…±å­˜çš„å”¯ä¸€æ–¹æ³•æ˜¯æå‰äº†è§£æ¯ä¸ªæµç¨‹çš„éœ€æ±‚ã€‚ç„¶è€Œï¼Œæ™ºèƒ½å¸ƒå±€åªæ˜¯ä¸€åŠåŸå› ã€‚</p><p>The second reason container resource profiles are essential is capacity planning.Based on the particular service demands and the total number of services, we can do some capacity planning for the different environments and come up with the most cost-effective host profiles to satisfy the entire cluster demand. Service resource profiles and capacity planning go hand-to-hand for successful cluster management in the long term.</p><p>è‡³å…³é‡è¦çš„ç¬¬äºŒä¸ªåŸå› æ˜¯å®¹å™¨èµ„æºé…ç½®æ–‡ä»¶é‡Œé¢çš„å®¹é‡è§„åˆ’ã€‚æ ¹æ®ç‰¹å®šçš„æœåŠ¡éœ€æ±‚å’ŒæœåŠ¡æ€»æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒè¿›è¡Œå®¹é‡è§„åˆ’ï¼Œå¹¶æå‡ºæœ€ç»æµé«˜æ•ˆçš„ä¸»æœºé…ç½®æ–‡ä»¶ä»¥æ»¡è¶³æ•´ä¸ªé›†ç¾¤çš„éœ€æ±‚ã€‚ä»é•¿è¿œæ¥çœ‹ï¼ŒæœåŠ¡èµ„æºé…ç½®æ–‡ä»¶å’Œå®¹é‡è§„åˆ’å¯†åˆ‡ç›¸å…³ï¼Œå¯å®ç°æˆåŠŸçš„ç¾¤é›†ç®¡ç†ã€‚</p><p>Letâ€™s have a look first at how to declare runtime dependencies before we dive into resource profiles.</p><p>åœ¨æ·±å…¥ç ”ç©¶èµ„æºé…ç½®æ–‡ä»¶ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆçœ‹çœ‹å¦‚ä½•å£°æ˜è¿è¡Œæ—¶ä¾èµ–é¡¹ã€‚</p><h4 id="_2-1-2-1-runtime-dependencies" tabindex="-1"><a class="header-anchor" href="#_2-1-2-1-runtime-dependencies" aria-hidden="true">#</a> 2.1.2.1 Runtime Dependencies</h4><h4 id="_2-1-2-1-è¿è¡Œæ—¶ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_2-1-2-1-è¿è¡Œæ—¶ä¾èµ–" aria-hidden="true">#</a> 2.1.2.1 è¿è¡Œæ—¶ä¾èµ–</h4><p>One of the most common runtime dependencies is file storage for saving application state. Container filesystems are ephemeral and lost when a container is shut down.Kubernetes offers volume as a Pod-level storage utility that survives container restarts.</p><p>æœ€å¸¸è§çš„è¿è¡Œæ—¶ä¾èµ–é¡¹ä¹‹ä¸€æ˜¯ç”¨äºä¿å­˜åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ–‡ä»¶å­˜å‚¨ã€‚å®¹å™¨æ–‡ä»¶ç³»ç»Ÿæ˜¯çŸ­æš‚çš„ï¼Œå½“å®¹å™¨å…³é—­æ—¶ä¼šä¸¢å¤±ã€‚Kubernetesæä¾›å·ä½œä¸ºä¸€ä¸ªPodçº§å­˜å‚¨å®ç”¨ç¨‹åºï¼Œåœ¨å®¹å™¨é‡æ–°å¯åŠ¨åä»ç„¶å­˜åœ¨ã€‚</p><p>The most straightforward type of volume is emptyDir, which lives as long as the Pod lives and when the Pod is removed, its content is also lost. The volume needs to be backed by some other kind of storage mechanism to have a volume that survives Pod restarts. If your application needs to read or write files to such long-lived storage, you have to declare that dependency explicitly in the container definition using volumes,as shown in Example 2-1.</p><p>æœ€ç›´æ¥çš„å·ç±»å‹æ˜¯emptyDirï¼Œå®ƒçš„å¯¿å‘½ä¸Podçš„å¯¿å‘½ä¸€æ ·é•¿ï¼Œå½“Podè¢«ç§»é™¤æ—¶ï¼Œå…¶å†…å®¹ä¹Ÿä¼šä¸¢å¤±ã€‚è¯¥å·éœ€è¦ç”±å…¶ä»–ç±»å‹çš„å­˜å‚¨æœºåˆ¶æ¥æ”¯æŒï¼Œä»¥ä½¿è¯¥å·åœ¨Podé‡æ–°å¯åŠ¨åä»èƒ½ç”Ÿå­˜ã€‚å¦‚æœåº”ç”¨ç¨‹åºéœ€è¦å°†æ–‡ä»¶è¯»å†™åˆ°è¿™ç§é•¿å¯¿å‘½å­˜å‚¨ä¸­ï¼Œåˆ™å¿…é¡»ä½¿ç”¨å·åœ¨å®¹å™¨å®šä¹‰ä¸­æ˜¾å¼å£°æ˜è¯¥ä¾èµ–å…³ç³»ï¼Œå¦‚ç¤ºä¾‹2-1æ‰€ç¤ºã€‚</p><p>Example 2-1. Dependency on a PersistentVolume</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
 <span class="token key atrule">containers</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> k8spatterns/random<span class="token punctuation">-</span>generator<span class="token punctuation">:</span><span class="token number">1.0</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
 <span class="token key atrule">volumeMounts</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">mountPath</span><span class="token punctuation">:</span> <span class="token string">&quot;/logs&quot;</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> log<span class="token punctuation">-</span>volume
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> log<span class="token punctuation">-</span>volume
 <span class="token comment">#Dependency of a PVC to be present and bound</span>
 <span class="token key atrule">persistentVolumeClaim</span><span class="token punctuation">:</span>
  <span class="token key atrule">claimName</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator<span class="token punctuation">-</span>log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The scheduler evaluates the kind of volume a Pod requires, which affects where the Pod gets placed. If the Pod needs a volume that is not provided by any node on the cluster, the Pod is not scheduled at all. Volumes are an example of a runtime dependency that affects what kind of infrastructure a Pod can run and whether the Pod can be scheduled at all.</p><p>è°ƒåº¦å™¨è¯„ä¼°Podéœ€è¦çš„å·çš„ç±»å‹ï¼Œè¿™ä¼šå½±å“Podæ”¾ç½®çš„ä½ç½®ã€‚å¦‚æœPodéœ€è¦ç¾¤é›†ä¸Šä»»ä½•èŠ‚ç‚¹éƒ½ä¸æä¾›çš„å·ï¼Œåˆ™Podæ ¹æœ¬ä¸ä¼šè¢«è°ƒåº¦ã€‚å·æ˜¯è¿è¡Œæ—¶ä¾èµ–å…³ç³»çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå®ƒå½±å“Podå¯ä»¥è¿è¡Œçš„åŸºç¡€ç»“æ„ç±»å‹ä»¥åŠPodæ˜¯å¦å¯ä»¥è°ƒåº¦ã€‚</p><p>A similar dependency happens when you ask Kubernetes to expose a container port on a specific port on the host system through hostPort. The usage of a hostPort creates another runtime dependency on the nodes and limits where a Pod can be scheduled. hostPort reserves the port on each node in the cluster and limit to maximum one Pod scheduled per node. Because of port conflicts, you can scale to as many Pods as there are nodes in the Kubernetes cluster.</p><p>å½“ä½ è¦æ±‚Kubernetesé€šè¿‡hostPortå…¬å¼€ä¸»æœºç³»ç»Ÿä¸Šç‰¹å®šç«¯å£ä¸Šçš„å®¹å™¨ç«¯å£æ—¶ï¼Œä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„ä¾èµ–å…³ç³»ã€‚ä¸»æœºç«¯å£çš„ä½¿ç”¨åœ¨èŠ‚ç‚¹ä¸Šåˆ›å»ºäº†å¦ä¸€ä¸ªè¿è¡Œæ—¶ä¾èµ–é¡¹ï¼Œå¹¶é™åˆ¶äº†Podçš„è°ƒåº¦ä½ç½®ã€‚hostPortä¿ç•™ç¾¤é›†ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„ç«¯å£ï¼Œå¹¶é™åˆ¶æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šè°ƒåº¦ä¸€ä¸ªPodã€‚ç”±äºç«¯å£å†²çªï¼Œæ‚¨å¯ä»¥æ‰©å±•åˆ°Kubernetesé›†ç¾¤ä¸­èŠ‚ç‚¹çš„æ•°é‡ã€‚</p><p>A different type of dependency is configurations. Almost every application needs some configuration information and the recommended solution offered by Kubernetes is through ConfigMaps. Your services need to have a strategy for consuming settingsâ€”either through environment variables or the filesystem. In either case, this introduces a runtime dependency of your container to the named ConfigMaps. If not all of the expected ConfigMaps are created, the containers are scheduled on a node, but they do not start up. ConfigMaps and Secrets are explained in more details in Chapter 19, Configuration Resource, and Example 2-2 shows how these resources are used as runtime dependencies.</p><p>å¦ä¸€ç§ä¾èµ–å…³ç³»æ˜¯é…ç½®ã€‚å‡ ä¹æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½éœ€è¦ä¸€äº›é…ç½®ä¿¡æ¯ï¼ŒKubernetesæ¨èçš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡ConfigMapsã€‚æœåŠ¡éœ€è¦æœ‰ä¸€ä¸ªé€šè¿‡ç¯å¢ƒå˜é‡æˆ–æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨è®¾ç½®çš„ç­–ç•¥ã€‚åœ¨ä»»ä½•ä¸€ç§æƒ…å†µä¸‹ï¼Œè¿™éƒ½ä¼šå°†å®¹å™¨çš„è¿è¡Œæ—¶ä¾èµ–é¡¹å¼•å…¥åˆ°å‘½åçš„ConfigMapsã€‚å¦‚æœæœªåˆ›å»ºæ‰€æœ‰é¢„æœŸçš„ConfigMapï¼Œåˆ™ä¼šåœ¨èŠ‚ç‚¹ä¸Šè°ƒåº¦å®¹å™¨ï¼Œä½†å®ƒä»¬ä¸ä¼šå¯åŠ¨ã€‚é…ç½®æ˜ å°„å’Œæ•æ„Ÿæ•°æ®é›†åœ¨ç¬¬19ç« â€œé…ç½®èµ„æºâ€ä¸­æœ‰æ›´è¯¦ç»†çš„è§£é‡Šï¼Œç¤ºä¾‹2-2æ˜¾ç¤ºäº†å¦‚ä½•å°†è¿™äº›èµ„æºç”¨ä½œè¿è¡Œæ—¶ä¾èµ–é¡¹ã€‚</p><p>Example 2-2. Dependency on a ConfigMap</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
 <span class="token key atrule">containers</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> k8spatterns/random<span class="token punctuation">-</span>generator<span class="token punctuation">:</span><span class="token number">1.0</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
 <span class="token key atrule">env</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> PATTERN
  <span class="token key atrule">valueFrom</span><span class="token punctuation">:</span>
 <span class="token key atrule">configMapKeyRef</span><span class="token punctuation">:</span>
 <span class="token comment"># Dependency of a ConfigMap to be present</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator<span class="token punctuation">-</span>config
  <span class="token key atrule">key</span><span class="token punctuation">:</span> pattern
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A similar concept to ConfigMaps are Secrets, which offer a slightly more secure way of distributing environment-specific configurations to a container.The way to consume a Secret is the same as it is for ConfigMap consumption, and it introduces the same kind of dependency from a container to a namespace.</p><p>ä¸ConfigMapsç±»ä¼¼çš„æ¦‚å¿µæ˜¯æ•æ„Ÿæ•°æ®é›†ï¼ˆSecretï¼‰ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´å®‰å…¨çš„æ–¹å¼å°†ç‰¹å®šäºç¯å¢ƒçš„é…ç½®åˆ†å‘åˆ°å®¹å™¨ã€‚ä½¿ç”¨Secretçš„æ–¹å¼ä¸ä½¿ç”¨ConfigMapçš„æ–¹å¼ç›¸åŒï¼Œå¹¶ä¸”å®ƒå¼•å…¥äº†ä»å®¹å™¨åˆ°å‘½åç©ºé—´çš„ç›¸åŒç±»å‹çš„ä¾èµ–å…³ç³»ã€‚</p><p>While the creation of ConfigMap and Secret objects are simple admin tasks we have to perform, cluster nodes provide storage and port numbers. Some of these dependencies limit where a Pod gets scheduled (if anywhere at all), and other dependencies may prevent the Pod from starting up. When designing your containerized applications with such dependencies, always consider the runtime constraints they will create later.</p><p>è™½ç„¶åˆ›å»ºConfigMapå’ŒSecretå¯¹è±¡æ˜¯æˆ‘ä»¬å¿…é¡»æ‰§è¡Œçš„ç®€å•ç®¡ç†ä»»åŠ¡ï¼Œä½†é›†ç¾¤èŠ‚ç‚¹æä¾›å­˜å‚¨å’Œç«¯å£å·ã€‚å…¶ä¸­ä¸€äº›ä¾èµ–é¡¹é™åˆ¶äº†Podçš„è°ƒåº¦ä½ç½®ï¼ˆå¦‚æœåœ¨ä»»ä½•åœ°æ–¹ï¼‰ï¼Œå…¶ä»–ä¾èµ–é¡¹å¯èƒ½ä¼šé˜»æ­¢Podå¯åŠ¨ã€‚åœ¨è®¾è®¡å…·æœ‰æ­¤ç±»ä¾èµ–å…³ç³»çš„å®¹å™¨åŒ–åº”ç”¨ç¨‹åºæ—¶ï¼Œå§‹ç»ˆè€ƒè™‘å®ƒä»¬ç¨åå°†åˆ›å»ºçš„è¿è¡Œæ—¶çº¦æŸã€‚</p><h5 id="_2-1-2-2-resource-profiles" tabindex="-1"><a class="header-anchor" href="#_2-1-2-2-resource-profiles" aria-hidden="true">#</a> 2.1.2.2 Resource Profiles</h5><h5 id="_2-1-2-2-èµ„æºæ¦‚å†µ" tabindex="-1"><a class="header-anchor" href="#_2-1-2-2-èµ„æºæ¦‚å†µ" aria-hidden="true">#</a> 2.1.2.2 èµ„æºæ¦‚å†µ</h5><p>Specifying container dependencies such as ConfigMap, Secret, and volumes is straightforward. We need some more thinking and experimentation for figuring out the resources requirements of a container. Compute resources in the context of Kubernetes are defined as something that can be requested by, allocated to, and consumed from a container. The resources are categorized as compressible (i.e., can be throttled, such as CPU, or network bandwidth) and incompressible (i.e., cannot be throttled, such as memory).</p><p>æŒ‡å®šå®¹å™¨ä¾èµ–é¡¹ï¼ˆå¦‚ConfigMapã€Secretå’Œvolumesï¼‰éå¸¸ç®€å•ã€‚æˆ‘ä»¬éœ€è¦åšæ›´å¤šçš„æ€è€ƒå’Œå®éªŒæ¥ç¡®å®šå®¹å™¨çš„èµ„æºéœ€æ±‚ã€‚Kubernetesä¸Šä¸‹æ–‡ä¸­çš„è®¡ç®—èµ„æºå®šä¹‰ä¸ºå®¹å™¨å¯ä»¥è¯·æ±‚ã€åˆ†é…å’Œä½¿ç”¨çš„èµ„æºã€‚è¿™äº›èµ„æºåˆ†ä¸ºå¯å‹ç¼©ï¼ˆå³ï¼Œå¯ä»¥èŠ‚æµï¼Œå¦‚CPUæˆ–ç½‘ç»œå¸¦å®½ï¼‰å’Œä¸å¯å‹ç¼©ï¼ˆå³ï¼Œä¸èƒ½èŠ‚æµï¼Œå¦‚å†…å­˜ï¼‰ã€‚</p><p>Making the distinction between compressible and incompressible resources is important. If your containers consume too many compressible resources such as CPU, they are throttled, but if they use too many incompressible resources (such as memory), they are killed (as there is no other way to ask an application to release allocated memory).</p><p>åŒºåˆ†å¯å‹ç¼©èµ„æºå’Œä¸å¯å‹ç¼©èµ„æºå¾ˆé‡è¦ã€‚å¦‚æœæ‚¨çš„å®¹å™¨æ¶ˆè€—äº†å¤ªå¤šçš„å¯å‹ç¼©èµ„æºï¼ˆå¦‚CPUï¼‰ï¼Œå®ƒä»¬å°†è¢«é™åˆ¶ï¼Œä½†å¦‚æœå®ƒä»¬ä½¿ç”¨äº†å¤ªå¤šçš„ä¸å¯å‹ç¼©èµ„æºï¼ˆå¦‚å†…å­˜ï¼‰ï¼Œå®ƒä»¬å°†è¢«ç»ˆæ­¢ï¼ˆå› ä¸ºæ²¡æœ‰å…¶ä»–æ–¹æ³•è¦æ±‚åº”ç”¨ç¨‹åºé‡Šæ”¾åˆ†é…çš„å†…å­˜ï¼‰ã€‚</p><p>Based on the nature and the implementation details of your application, you have to specify the minimum amount of resources that are needed (called requests) and the maximum amount it can grow up to (the limits). Every container definition can specify the amount of CPU and memory it needs in the form of a request and limit. At a high level, the concept of requests/limits is similar to soft/hard limits. For example, similarly, we define heap size for a Java application by using the -Xms and -Xmx command-line options.</p><p>æ ¹æ®åº”ç”¨ç¨‹åºçš„æ€§è´¨å’Œå®ç°ç»†èŠ‚ï¼Œä½ å¿…é¡»æŒ‡å®šå®¹å™¨æ‰€éœ€çš„æœ€å°èµ„æºé‡ï¼ˆç§°ä¸ºåŸºæœ¬éœ€æ±‚èµ„æºï¼‰å’Œæœ€å¤§èµ„æºé‡ï¼ˆæœ€å¤§é™åˆ¶ï¼‰ã€‚æ¯ä¸ªå®¹å™¨å®šä¹‰éƒ½å¯ä»¥ä»¥è¯·æ±‚å’Œé™åˆ¶çš„å½¢å¼æŒ‡å®šå®ƒæ‰€éœ€çš„CPUå’Œå†…å­˜é‡ã€‚åœ¨é«˜å±‚æ¬¡ä¸Šï¼Œè¯·æ±‚/é™åˆ¶çš„æ¦‚å¿µç±»ä¼¼äºè½¯/ç¡¬é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨-Xmså’Œ-Xmxå‘½ä»¤è¡Œé€‰é¡¹ä¸ºJavaåº”ç”¨ç¨‹åºå®šä¹‰å †å¤§å°ã€‚</p><p>The requests amount (but not limits) is used by the scheduler when placing Pods to nodes. For a given Pod, the scheduler considers only nodes that still have enough capacity to accommodate the Pod and all of its containers by summing up the requested resource amounts. In that sense, the requests field of each container affects where a Pod can be scheduled or not. Example 2-3 shows how such limits are specified for a Pod.</p><p>è°ƒåº¦å™¨åœ¨æ”¾ç½®PODåˆ°èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„æ˜¯æœ€å°èµ„æºé‡(ä¸æ˜¯æœ€å¤§é™åˆ¶èµ„æºï¼‰ã€‚å¯¹äºç»™å®šçš„Podï¼Œè°ƒåº¦å™¨é€šè¿‡æ±‡æ€»è¯·æ±‚çš„èµ„æºé‡ï¼Œåªè€ƒè™‘ä»æœ‰è¶³å¤Ÿå®¹é‡å®¹çº³PodåŠå…¶æ‰€æœ‰å®¹å™¨çš„èŠ‚ç‚¹ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼Œæ¯ä¸ªå®¹å™¨çš„requestså­—æ®µéƒ½ä¼šå½±å“Podçš„è°ƒåº¦ä½ç½®ã€‚ç¤ºä¾‹2-3æ˜¾ç¤ºäº†å¦‚ä½•ä¸ºPodæŒ‡å®šæ­¤ç±»é™åˆ¶ã€‚</p><p>Example 2-3. Resource limits</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
 <span class="token key atrule">containers</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> k8spatterns/random<span class="token punctuation">-</span>generator<span class="token punctuation">:</span><span class="token number">1.0</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
  <span class="token key atrule">resources</span><span class="token punctuation">:</span>
   <span class="token key atrule">requests</span><span class="token punctuation">:</span>
   <span class="token comment">#Initial resource request for CPU and memory</span>
    <span class="token key atrule">cpu</span><span class="token punctuation">:</span> 100m
    <span class="token key atrule">memory</span><span class="token punctuation">:</span> 100Mi
   <span class="token key atrule">limits</span><span class="token punctuation">:</span>
   <span class="token comment">#Upper limit until we want our application to grow at max</span>
    <span class="token key atrule">cpu</span><span class="token punctuation">:</span> 200m
    <span class="token key atrule">memory</span><span class="token punctuation">:</span> 200Mi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Depending on whether you specify the requests, the limits, or both, the platform offers a different kind of Quality of Service (QoS).</p><p>æ ¹æ®ä½ æ˜¯æŒ‡å®šåŸºæœ¬éœ€æ±‚èµ„æºã€æœ€å¤§é™åˆ¶èµ„æºè¿˜æ˜¯ä¸¤è€…éƒ½æŒ‡å®šï¼ŒK8Så¹³å°æä¾›ä¸åŒç±»å‹çš„æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰ã€‚</p><p>Best-Effort-æœ€å¤§æ•ˆç‡çš„Pod</p><ul><li>Pod that does not have any requests and limits set for its containers. Such a Pod is considered as the lowest priority and is most likely killed first when Â the node where the Pod is placed runs out of incompressible resources.</li><li>é‚£äº›æ²¡æœ‰ä¸ºå…¶å®¹å™¨è®¾ç½®ä»»ä½•åŸºæœ¬éœ€æ±‚èµ„æºå’Œæœ€å¤§é™åˆ¶èµ„æºçš„Podã€‚ä¼šè¢«è®¤ä¸ºæ˜¯æœ€ä½ä¼˜å…ˆçº§çš„ï¼Œå½“æ”¾ç½®Podçš„èŠ‚ç‚¹è€—å°½ä¸å¯å‹ç¼©çš„èµ„æºæ—¶ï¼Œæœ€æœ‰å¯èƒ½é¦–å…ˆè¢«æ€æ­»ã€‚</li></ul><p>Burstable-å¯è†¨èƒ€çš„Pod</p><ul><li>Pod that has requests and limits defined, but they are not equal (and limits is larger than requests as expected). Such a Pod has minimal resource guarantees,but is also willing to consume more resources up to its limit when available.When the node is under incompressible resource pressure, these Pods are likely to be killed if no Best-Effort Pods remain.</li><li>é‚£äº›è®¾ç½®äº†åŸºæœ¬éœ€æ±‚èµ„æºå’Œæœ€å¤§é™åˆ¶èµ„æºçš„Podï¼Œå¹¶ä¸”ä¸¤è€…çš„èµ„æºé‡ä¸ç›¸ç­‰ï¼ˆå…¶ä¸­æœ€å¤§é™åˆ¶çš„èµ„æºå¤§äºåŸºæœ¬éœ€æ±‚èµ„æºï¼‰ã€‚è¿™æ ·çš„Podå…·æœ‰æœ€å°çš„èµ„æºä¿è¯ï¼ŒåŒæ—¶åœ¨èµ„æºå¯ç”¨æ—¶ï¼Œå¯ä»¥æ¶ˆè€—æ›´å¤šçš„èµ„æºï¼Œç›´åˆ°è¾¾åˆ°å…¶è®¾ç½®çš„æœ€å¤§é™åˆ¶å€¼ã€‚å½“èŠ‚ç‚¹çš„ä¸å¯å‹ç¼©èµ„æºè€—å°½æ—¶ï¼Œå¦‚æœå½“å‰æ²¡æœ‰æœ€å¤§æ•ˆç‡çš„Podå­˜åœ¨ï¼Œåˆ™è¿™äº›å®šä¹‰äº†ä¸åŒåŸºæœ¬éœ€æ±‚èµ„æºå’Œæœ€å¤§é™åˆ¶èµ„æºçš„Podä¹Ÿå¯èƒ½ä¼šè¢«æ€æ‰ã€‚</li></ul><p>Guaranteed-å…·æœ‰ä¿è¯çš„Pod</p><ul><li>Pod that has an equal amount of request and limit resources. These are the highest-priority Pods and guaranteed not to be killed before Best-Effort and Burstable Pods.</li><li>é‚£äº›å…·æœ‰ç›¸åŒåŸºæœ¬éœ€æ±‚èµ„æºå’Œæœ€å¤§é™åˆ¶èµ„æºé…ç½®çš„Podï¼Œå®ƒä»¬å…·æœ‰æœ€é«˜çš„ä¼˜å…ˆçº§å¹¶ä¸”è¢«ä¿è¯åœ¨å­˜åœ¨æœ€å¤§æ•ˆç‡Podå’Œå¯è†¨èƒ€Podçš„æƒ…å†µä¸‹ä¸è¢«æ€æ‰ã€‚</li></ul><p>So the resource characteristics you define or omit for the containers have a direct impact on its QoS and define the relative importance of the Pod in the event of resource starvation. Define your Pod resource requirements with this consequence in mind.</p><p>å› æ­¤ï¼Œä¸ºå®¹å™¨å®šä¹‰èµ„æºç‰¹æ€§å°†ç›´æ¥å½±å“å…¶æœåŠ¡è´¨é‡ï¼Œå¹¶ä¸”åœ¨èµ„æºä¸è¶³æ—¶ï¼Œå®šä¹‰Podèµ„æºæ˜¯éå¸¸é‡è¦çš„ã€‚è€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œè¯·å¯¹Podèµ„æºéœ€æ±‚è¿›è¡Œé…ç½®ã€‚</p><h5 id="_2-1-2-3-pod-priority" tabindex="-1"><a class="header-anchor" href="#_2-1-2-3-pod-priority" aria-hidden="true">#</a> 2.1.2.3 Pod Priority</h5><h5 id="_2-1-2-3-podä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#_2-1-2-3-podä¼˜å…ˆçº§" aria-hidden="true">#</a> 2.1.2.3 Podä¼˜å…ˆçº§</h5><p>We explained how container resource declarations also define Podsâ€™ QoS and affect the order in which the Kubelet kills the container in a Pod in case of resource starvation.Another related feature that is still in beta at the time of this writing is Pod Priority and Preemption. Pod priority allows indicating the importance of a Pod relative to other Pods, which affects the order in which Pods are scheduled. Letâ€™s see that in action in Example 2-4.</p><p>æˆ‘ä»¬è§£é‡Šäº†å®¹å™¨èµ„æºå£°æ˜å¦‚ä½•å®šä¹‰Podçš„æœåŠ¡è´¨é‡ï¼Œä»¥åŠå¦‚ä½•å½±å“K8såœ¨èµ„æºä¸è¶³çš„æƒ…å†µä¸‹æ€æ­»Podä¸­å®¹å™¨çš„é¡ºåºã€‚åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œå¦ä¸€ä¸ªç›¸å…³åŠŸèƒ½ä»å¤„äºæµ‹è¯•é˜¶æ®µï¼Œå³Podä¼˜å…ˆçº§å’ŒæŠ¢å ã€‚Podä¼˜å…ˆçº§å…è®¸æŒ‡ç¤ºPodç›¸å¯¹äºå…¶ä»–Podçš„é‡è¦æ€§ï¼Œè¿™ä¼šå½±å“Podçš„è°ƒåº¦é¡ºåºã€‚è®©æˆ‘ä»¬åœ¨ä¾‹2-4ä¸­çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚</p><p>Example 2-4. Pod priority</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> scheduling.k8s.io/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> PriorityClass
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> high<span class="token punctuation">-</span>priority    <span class="token comment">#The name of the priority class object</span>
<span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token number">1000</span>       <span class="token comment">#The priority value of the object</span>
<span class="token key atrule">globalDefault</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">description</span><span class="token punctuation">:</span> This is a very high priority Pod class
<span class="token punctuation">---</span>
<span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
 <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
 <span class="token key atrule">labels</span><span class="token punctuation">:</span>
  <span class="token key atrule">env</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
 <span class="token key atrule">spec</span><span class="token punctuation">:</span>
 <span class="token key atrule">containers</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token key atrule">image</span><span class="token punctuation">:</span> k8spatterns/random<span class="token punctuation">-</span>generator<span class="token punctuation">:</span><span class="token number">1.0</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> random<span class="token punctuation">-</span>generator
 <span class="token key atrule">priorityClassName</span><span class="token punctuation">:</span> high<span class="token punctuation">-</span>priority   
 <span class="token comment">#The priority class to use with this Pod, as defined in PriorityClass resource</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We created a PriorityClass, a non-namespaced object for defining an integer-based priority. Our PriorityClass is named high-priority and has a priority of 1,000. Now we can assign this priority to Pods by its name as priorityClassName: highpriority. PriorityClass is a mechanism for indicating the importance of Pods relative to each other, where the higher value indicates more important Pods.</p><p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªPriorityClassï¼Œä¸€ä¸ªæ— å‘½åç©ºé—´çš„å¯¹è±¡ï¼Œç”¨äºå®šä¹‰åŸºäºæ•´æ•°çš„ä¼˜å…ˆçº§ã€‚æˆ‘ä»¬çš„PriorityClassè¢«å‘½åä¸ºhigh priorityï¼Œä¼˜å…ˆçº§ä¸º1000ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åç§°priorityClassName:highpriorityå°†æ­¤ä¼˜å…ˆçº§åˆ†é…ç»™PODã€‚PriorityClassæ˜¯ä¸€ç§è¡¨ç¤ºPodsç›¸å¯¹é‡è¦æ€§çš„æœºåˆ¶ï¼Œå…¶ä¸­å€¼è¶Šé«˜è¡¨ç¤ºPodsè¶Šé‡è¦ã€‚</p><p>When the Pod Priority feature is enabled, it affects the order in which the scheduler places Pods on nodes. First, the priority admission controller uses the priorityClass Name field to populate the priority value for new Pods. When multiple Pods are waiting to be placed, the scheduler sorts the queue of pending Pods by highest priority first. Any pending Pod is picked before any other pending Pod with lower priority in the scheduling queue, and if there are no constraints preventing it from scheduling, the Pod gets scheduled.</p><p>å½“Podä¼˜å…ˆçº§åŠŸèƒ½å¯ç”¨æ—¶ï¼Œå®ƒä¼šå½±å“è°ƒåº¦å™¨åœ¨èŠ‚ç‚¹ä¸Šæ”¾ç½®Podçš„é¡ºåºã€‚é¦–å…ˆï¼Œä¼˜å…ˆçº§è®¸å¯è°ƒåº¦å™¨ä½¿ç”¨priorityClassåç§°å­—æ®µå¡«å……æ–°PODçš„ä¼˜å…ˆçº§å€¼ã€‚å½“å¤šä¸ªPodsç­‰å¾…æ”¾ç½®æ—¶ï¼Œè°ƒåº¦å™¨é¦–å…ˆæŒ‰æœ€é«˜ä¼˜å…ˆçº§å¯¹æŒ‚èµ·Podsé˜Ÿåˆ—è¿›è¡Œæ’åºã€‚åœ¨è°ƒåº¦é˜Ÿåˆ—ä¸­ï¼Œä»»ä½•é«˜ä¼˜å…ˆçº§çš„Podä¼šæ¯”ä½ä¼˜å…ˆçº§çš„Podå…ˆè¢«æ”¾ç½®ï¼Œå¦‚æœæ²¡æœ‰çº¦æŸé˜»æ­¢å…¶è°ƒåº¦ï¼ŒPodå°†è¢«è°ƒåº¦ã€‚</p><p>Here comes the critical part. If there are no nodes with enough capacity to place a Pod, the scheduler can preempt (remove) lower-priority Pods from nodes to free up resources and place Pods with higher priority. As a result, the higher-priority Pod might be scheduled sooner than Pods with a lower priority if all other scheduling requirements are met. This algorithm effectively enables cluster administrators to control which Pods are more critical workloads and place them first by allowing the scheduler to evict Pods with lower priority to make room on a worker node for higher-priority Pods. If a Pod cannot be scheduled, the scheduler continues with the placement of other lower-priority Pods.</p><p>å…³é”®éƒ¨åˆ†æ¥äº†ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿå®¹é‡çš„èŠ‚ç‚¹æ”¾ç½®Podï¼Œè°ƒåº¦ç¨‹åºå¯ä»¥æŠ¢å ï¼ˆåˆ é™¤ï¼‰èŠ‚ç‚¹ä¸­ä¼˜å…ˆçº§è¾ƒä½çš„Podï¼Œä»¥é‡Šæ”¾èµ„æºå¹¶æ”¾ç½®ä¼˜å…ˆçº§è¾ƒé«˜çš„Podã€‚å› æ­¤ï¼Œå¦‚æœæ»¡è¶³æ‰€æœ‰å…¶ä»–è°ƒåº¦è¦æ±‚ï¼Œåˆ™ä¼˜å…ˆçº§è¾ƒé«˜çš„Podå¯èƒ½æ¯”ä¼˜å…ˆçº§è¾ƒä½çš„Podè°ƒåº¦å¾—æ›´å¿«ã€‚æ­¤ç®—æ³•æœ‰æ•ˆåœ°ä½¿ç¾¤é›†ç®¡ç†å‘˜èƒ½å¤Ÿæ§åˆ¶å“ªäº›PODæ˜¯æ›´å…³é”®çš„å·¥ä½œè´Ÿè½½ï¼Œå¹¶é€šè¿‡å…è®¸è°ƒåº¦å™¨é€å‡ºä¼˜å…ˆçº§è¾ƒä½çš„PODï¼Œåœ¨å·¥ä½œèŠ‚ç‚¹ä¸Šä¸ºä¼˜å…ˆçº§è¾ƒé«˜çš„PODè…¾å‡ºç©ºé—´ï¼Œå°†å®ƒä»¬æ”¾åœ¨ç¬¬ä¸€ä½ã€‚å¦‚æœæ— æ³•è°ƒåº¦Podï¼Œåˆ™è°ƒåº¦ç¨‹åºå°†ç»§ç»­æ”¾ç½®å…¶ä»–ä¼˜å…ˆçº§è¾ƒä½çš„Podã€‚</p><p>Pod QoS (discussed previously) and Pod priority are two orthogonal features that are not connected and have only a little overlap. QoS is used primarily by the Kubelet to preserve node stability when available compute resources are low. The Kubelet first considers QoS and then PriorityClass of Pods before eviction. On the other hand, the scheduler eviction logic ignores the QoS of Pods entirely when choosing preemption targets. The scheduler attempts to pick a set of Pods with the lowest priority possible that satisfies the needs of higher-priority Pods waiting to be placed.</p><p>Pod çš„æœåŠ¡è´¨é‡ï¼ˆèµ„æºé…ç½®ï¼‰å’ŒPodä¼˜å…ˆçº§æ˜¯ä¸¤ä¸ªç›¸äº’æ­£äº¤çš„ç‰¹æ€§ï¼Œå®ƒä»¬æ²¡æœ‰è¿æ¥ï¼Œåªæœ‰ä¸€ç‚¹é‡å ã€‚æœåŠ¡è´¨é‡ï¼ˆèµ„æºé…ç½®ï¼‰ä¸»è¦ç”±K8sç”¨äºåœ¨å¯ç”¨è®¡ç®—èµ„æºè¾ƒä½æ—¶ä¿æŒèŠ‚ç‚¹ç¨³å®šæ€§ã€‚K8sé¦–å…ˆè€ƒè™‘æœåŠ¡è´¨é‡ï¼ˆèµ„æºé…ç½®ï¼‰ï¼Œç„¶ååœ¨èµ„æºä¸è¶³æ—¶ä¼˜å…ˆè€ƒè™‘PriorityClass ã€‚å¦ä¸€æ–¹é¢ï¼Œè°ƒåº¦å™¨çš„å›æ”¶é€»è¾‘åœ¨é€‰æ‹©æŠ¢å ç›®æ ‡æ—¶å®Œå…¨å¿½ç•¥äº†PODçš„æœåŠ¡è´¨é‡ï¼ˆèµ„æºé…ç½®ï¼‰ã€‚è°ƒåº¦å™¨å°è¯•é€‰æ‹©ä¸€ç»„ä¼˜å…ˆçº§å°½å¯èƒ½ä½çš„Podsï¼Œä»¥æ»¡è¶³ç­‰å¾…æ”¾ç½®çš„é«˜ä¼˜å…ˆçº§Podsçš„éœ€è¦ã€‚</p><p>When Pods have a priority specified, it can have an undesired effect on other Pods that are evicted. For example, while a Podâ€™s graceful termination policies are respected, the PodDisruptionBudget as discussed in Chapter 10, Singleton Service is not guaranteed, which could break a lower-priority clustered application that relies on a quorum of Pods.</p><p>å½“PODå…·æœ‰æŒ‡å®šçš„ä¼˜å…ˆçº§æ—¶ï¼Œå®ƒå¯èƒ½ä¼šå¯¹å…¶ä»–è¢«é€å‡ºçš„PODäº§ç”Ÿä¸å¯é¢„æ–™çš„å½±å“ã€‚ä¾‹å¦‚ï¼Œè™½ç„¶Podçš„ä¼˜é›…ç»ˆæ­¢ç­–ç•¥å¾—åˆ°äº†éµå®ˆï¼Œä½†å¦‚ç¬¬10ç« â€œå•ä¾‹æœåŠ¡â€ä¸­æ‰€è¿°çš„Podä¸­æ–­é¢„ç®—æ— æ³•ä¿è¯ï¼Œè¿™å¯èƒ½ä¼šç ´åä¾èµ–Podä»²è£çš„ä½ä¼˜å…ˆçº§é›†ç¾¤åº”ç”¨ç¨‹åºã€‚</p><p>Another concern is a malicious or uninformed user who creates Pods with the highest possible priority and evicts all other Pods. To prevent that, ResourceQuota has been extended to support PriorityClass, and larger priority numbers are reserved for critical system Pods that should not usually be preempted or evicted.</p><p>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œåœ¨æ¶æ„æˆ–ä¸çŸ¥æƒ…çš„ç”¨æˆ·åˆ›å»ºå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„podå¹¶é€å‡ºæ‰€æœ‰å…¶ä»–podã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼ŒResourceQuotaå·²ç»æ‰©å±•åˆ°æ”¯æŒPriorityClassï¼Œå¹¶ä¸ºé€šå¸¸ä¸åº”æŠ¢å æˆ–é€å‡ºçš„å…³é”®ç³»ç»ŸPodsä¿ç•™äº†æ›´å¤§çš„ä¼˜å…ˆçº§ã€‚</p><p>In conclusion, Pod priorities should be used with caution because user-specified numerical priorities that guide the scheduler and Kubelet about which Pods to place or to kill are subject to gaming by users. Any change could affect many Pods, and could prevent the platform from delivering predictable service-level agreements.</p><p>æ€»ä¹‹ï¼Œåº”è¯¥è°¨æ…ä½¿ç”¨Podä¼˜å…ˆçº§ï¼Œå› ä¸ºæŒ‡å¯¼è°ƒåº¦å™¨å’ŒK8sæ”¾ç½®æˆ–æ€æ­»å“ªäº›Podçš„æ•°å­—ä¼˜å…ˆçº§ï¼Œå¯èƒ½å–å†³äºç”¨æˆ·çš„éšæ„æ¸¸æˆã€‚ä»»ä½•æ›´æ”¹éƒ½å¯èƒ½å½±å“è®¸å¤šPODï¼Œå¹¶å¯èƒ½é˜»æ­¢å¹³å°æä¾›å¯é¢„æµ‹çš„æœåŠ¡çº§åˆ«åè®®ã€‚</p><h5 id="_2-1-2-4-project-resources" tabindex="-1"><a class="header-anchor" href="#_2-1-2-4-project-resources" aria-hidden="true">#</a> 2.1.2.4 Project Resources</h5><h5 id="_2-1-2-4-é¡¹ç›®èµ„æº" tabindex="-1"><a class="header-anchor" href="#_2-1-2-4-é¡¹ç›®èµ„æº" aria-hidden="true">#</a> 2.1.2.4 é¡¹ç›®èµ„æº</h5><p>Kubernetes is a self-service platform that enables developers to run applications as they see suitable on the designated isolated environments. However, working in a shared multitenanted platform also requires the presence of specific boundaries and control units to prevent some users from consuming all the resources of the platform. One such tool is ResourceQuota, which provides constraints for limiting the aggregated resource consumption in a namespace. With ResourceQuotas, the cluster administrators can limit the total sum of computing resources (CPU, memory) and storage consumed. It can also limit the total number of objects (such as ConfigMaps, Secrets, Pods, or Services) created in a namespace.</p><p>Kubernetesæ˜¯ä¸€ä¸ªè‡ªåŠ©æœåŠ¡å¹³å°ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨æŒ‡å®šçš„éš”ç¦»ç¯å¢ƒä¸­è¿è¡Œä»–ä»¬è®¤ä¸ºåˆé€‚çš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œåœ¨å…±äº«å¤šç§Ÿæˆ·å¹³å°ä¸­å·¥ä½œè¿˜éœ€è¦ç‰¹å®šçš„è¾¹ç•Œå’Œæ§åˆ¶å•å…ƒï¼Œä»¥é˜²æ­¢æŸäº›ç”¨æˆ·æ¶ˆè€—å¹³å°çš„æ‰€æœ‰èµ„æºã€‚å…¶ä¸­ä¸€ä¸ªå·¥å…·æ˜¯ResourceQuotaï¼Œå®ƒæä¾›äº†é™åˆ¶å‘½åç©ºé—´ä¸­èšåˆèµ„æºæ¶ˆè€—çš„çº¦æŸã€‚é€šè¿‡èµ„æºé…é¢ï¼Œé›†ç¾¤ç®¡ç†å‘˜å¯ä»¥é™åˆ¶è®¡ç®—èµ„æºï¼ˆCPUã€å†…å­˜ï¼‰å’Œå­˜å‚¨æ¶ˆè€—çš„æ€»å’Œã€‚å®ƒè¿˜å¯ä»¥é™åˆ¶åœ¨å‘½åç©ºé—´ä¸­åˆ›å»ºçš„å¯¹è±¡ï¼ˆå¦‚ConfigMapsã€Secretsã€Podæˆ–Servicesï¼‰çš„æ€»æ•°ã€‚</p><p>Another useful tool in this area is LimitRange, which allows setting resource usage limits for each type of resource. In addition to specifying the minimum and maximum permitted amounts for different resource types and the default values for these resources, it also allows you to control the ratio between the requests and limits, also known as the overcommit level. Table 2-1 gives an example how the possible values for requests and limits can be chosen.</p><p>è¯¥é¢†åŸŸçš„å¦ä¸€ä¸ªæœ‰ç”¨å·¥å…·æ˜¯LimitRangeï¼Œå®ƒå…è®¸ä¸ºæ¯ç§ç±»å‹çš„èµ„æºè®¾ç½®èµ„æºä½¿ç”¨é™åˆ¶ã€‚é™¤äº†ä¸ºä¸åŒçš„èµ„æºç±»å‹æŒ‡å®šå…è®¸çš„æœ€å°å’Œæœ€å¤§æ•°é‡ä»¥åŠè¿™äº›èµ„æºçš„é»˜è®¤å€¼å¤–ï¼Œå®ƒè¿˜å…è®¸æ‚¨æ§åˆ¶è¯·æ±‚å’Œé™åˆ¶ä¹‹é—´çš„æ¯”ç‡ï¼Œä¹Ÿç§°ä¸ºè¶…é¢æäº¤çº§åˆ«ã€‚è¡¨2-1ç»™å‡ºäº†å¦‚ä½•é€‰æ‹©è¯·æ±‚å’Œé™åˆ¶çš„å¯èƒ½å€¼çš„ç¤ºä¾‹ã€‚</p><p>Table 2-1. Limit and request ranges</p><table><thead><tr><th>Type</th><th>Resource</th><th>Min</th><th>Max</th><th>Default limit</th><th>Default request</th><th>Lim/req ratio</th></tr></thead><tbody><tr><td>Container</td><td>CPU</td><td>500m</td><td>2</td><td>500m</td><td>250m</td><td>4</td></tr><tr><td>Container</td><td>Memory</td><td>250Mi</td><td>2Gi</td><td>500Mi</td><td>250Mi</td><td>4</td></tr></tbody></table><p>LimitRanges are useful for controlling the container resource profiles so that there are no containers that require more resources than a cluster node can provide. It can also prevent cluster users from creating containers that consume a large number of resources, making the nodes not allocatable for other containers. Considering that the requests (and not limits) are the primary container characteristic the scheduler uses for placing, LimitRequestRatio allows you to control how much difference there is between the requests and limits of containers. Having a big combined gap between requests and limits increases the chances for overcommitting on the node and may degrade application performance when many containers simultaneously require more resources than originally requested.</p><p>é™åˆ¶èµ„æºèŒƒå›´åŒºé—´çš„æ–¹æ³•å¯¹äºæ§åˆ¶å®¹å™¨èµ„æºé…ç½®æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰å®¹å™¨éœ€è¦çš„èµ„æºæ¯”é›†ç¾¤èŠ‚ç‚¹æä¾›çš„èµ„æºè¿˜è¦å¤šã€‚å®ƒè¿˜å¯ä»¥é˜²æ­¢é›†ç¾¤ç”¨æˆ·åˆ›å»ºæ¶ˆè€—å¤§é‡èµ„æºçš„å®¹å™¨ï¼Œä»è€Œä½¿èŠ‚ç‚¹æ— æ³•åˆ†é…ç»™å…¶ä»–å®¹å™¨ã€‚è€ƒè™‘åˆ°åŸºæœ¬èµ„æºéœ€æ±‚ï¼ˆè€Œä¸æ˜¯é™åˆ¶ï¼‰æ˜¯è°ƒåº¦å™¨ç”¨äºæ”¾ç½®çš„ä¸»è¦å®¹å™¨ç‰¹æ€§ï¼ŒLimitRequestRatioå…è®¸æ‚¨æ§åˆ¶è¯·æ±‚å’Œå®¹å™¨é™åˆ¶ä¹‹é—´çš„å·®å¼‚ã€‚è¯·æ±‚å’Œé™åˆ¶ä¹‹é—´å­˜åœ¨è¾ƒå¤§çš„ç»„åˆé—´éš™ä¼šå¢åŠ åœ¨èŠ‚ç‚¹ä¸Šè¿‡åº¦äº¤ä»˜çš„æœºä¼šï¼Œå¹¶ä¸”å½“è®¸å¤šå®¹å™¨åŒæ—¶éœ€è¦æ¯”æœ€åˆè¯·æ±‚æ›´å¤šçš„èµ„æºæ—¶ï¼Œå¯èƒ½ä¼šé™ä½åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚</p><h4 id="_2-1-2-5-capacity-planning" tabindex="-1"><a class="header-anchor" href="#_2-1-2-5-capacity-planning" aria-hidden="true">#</a> 2.1.2.5 Capacity Planning</h4><h4 id="_2-1-2-5-å®¹é‡è®¡åˆ’" tabindex="-1"><a class="header-anchor" href="#_2-1-2-5-å®¹é‡è®¡åˆ’" aria-hidden="true">#</a> 2.1.2.5 å®¹é‡è®¡åˆ’</h4><p>Considering that containers may have different resource profiles in different environments, and a varied number of instances, it is evident that capacity planning for a multipurpose environment is not straightforward. For example, for best hardware utilization, on a nonproduction cluster, you may have mainly Best-Effort and Burstable containers. In such a dynamic environment, many containers are starting up and shutting down at the same time, and even if a container gets killed by the platform during resource starvation, it is not fatal. On the production cluster where we want things to be more stable and predictable, the containers may be mainly of the Guaranteed type and some Burstable. If a container gets killed, that is most likely a sign that the capacity of the cluster should be increased.</p><p>è€ƒè™‘åˆ°å®¹å™¨åœ¨ä¸åŒç¯å¢ƒä¸­å¯èƒ½å…·æœ‰ä¸åŒçš„èµ„æºé…ç½®æ–‡ä»¶ï¼Œä»¥åŠä¸åŒæ•°é‡çš„å®ä¾‹ï¼Œæ˜¾ç„¶å¤šç”¨é€”ç¯å¢ƒçš„å®¹é‡è§„åˆ’å¹¶ä¸ç®€å•ã€‚ä¾‹å¦‚ï¼Œä¸ºäº†è·å¾—æœ€ä½³çš„ç¡¬ä»¶åˆ©ç”¨ç‡ï¼Œåœ¨éç”Ÿäº§é›†ç¾¤ä¸Šï¼Œæ‚¨å¯èƒ½ä¸»è¦ä½¿ç”¨æœ€å¤§æ•ˆç‡å’Œå¯è†¨èƒ€ï¼ˆæ‰©å±•ï¼‰çš„å®¹å™¨ã€‚åœ¨è¿™æ ·ä¸€ä¸ªåŠ¨æ€ç¯å¢ƒä¸­ï¼Œè®¸å¤šå®¹å™¨åŒæ—¶å¯åŠ¨å’Œå…³é—­ï¼Œå³ä½¿å®¹å™¨åœ¨èµ„æºåŒ®ä¹æœŸé—´è¢«å¹³å°æ€æ­»ï¼Œä¹Ÿä¸æ˜¯è‡´å‘½çš„ã€‚åœ¨æˆ‘ä»¬å¸Œæœ›äº‹æƒ…æ›´åŠ ç¨³å®šå’Œå¯é¢„æµ‹çš„ç”Ÿäº§é›†ç¾¤ä¸Šï¼Œå®¹å™¨å¯èƒ½ä¸»è¦æ˜¯ä¿è¯ç±»å‹å’Œä¸€äº›ç¨³å®šç±»å‹ã€‚å¦‚æœå®¹å™¨è¢«æ€æ­»ï¼Œè¿™å¾ˆå¯èƒ½æ˜¯é›†ç¾¤å®¹é‡åº”è¯¥å¢åŠ çš„è¿¹è±¡ã€‚</p><p>Table 2-2 presents a few services with CPU and memory demands. è¡¨æ ¼2-2 å±•ç¤ºäº†ä¸€äº›å…·æœ‰CPUå’Œå†…å­˜éœ€æ±‚çš„æœåŠ¡ã€‚</p><p>Table 2-2. Capacity planning example</p><table><thead><tr><th>Pod</th><th>CPU request</th><th>CPU limit</th><th>Memory request</th><th>Memory limit</th><th>Instances</th></tr></thead><tbody><tr><td>A</td><td>500m</td><td>500m</td><td>500Mi</td><td>500Mi</td><td>4</td></tr><tr><td>B</td><td>250m</td><td>500m</td><td>250Mi</td><td>1000Mi</td><td>2</td></tr><tr><td>C</td><td>500m</td><td>1000m</td><td>1000Mi</td><td>2000Mi</td><td>2</td></tr><tr><td>D</td><td>500m</td><td>500m</td><td>500Mi</td><td>500Mi</td><td>1</td></tr><tr><td>Total</td><td>4000m</td><td>5500m</td><td>5000Mi</td><td>8500Mi</td><td>9</td></tr></tbody></table><p>Of course, in a real-life scenario, the more likely reason you are using a platform such as Kubernetes would be because there are many more services to manage, some of which are about to retire, and some are still at the design and development phase. Even if it is a continually moving target, based on a similar approach as described previously, we can calculate the total amount of resources needed for all the services per environment.</p><p>å½“ç„¶ï¼Œåœ¨ç°å®åœºæ™¯ä¸­ï¼Œä½¿ç”¨Kubernetesè¿™æ ·çš„å¹³å°çš„åŸå› æ›´æœ‰å¯èƒ½æ˜¯å› ä¸ºè¿˜æœ‰æ›´å¤šçš„æœåŠ¡éœ€è¦ç®¡ç†ï¼Œå…¶ä¸­ä¸€äº›æœåŠ¡å³å°†é€€å½¹ï¼Œè€Œä¸€äº›æœåŠ¡ä»å¤„äºè®¾è®¡å’Œå¼€å‘é˜¶æ®µã€‚å³ä½¿å®ƒæ˜¯ä¸€ä¸ªä¸æ–­ç§»åŠ¨çš„ç›®æ ‡ï¼ŒåŸºäºå‰é¢æè¿°çš„ç±»ä¼¼æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¡ç®—æ¯ä¸ªç¯å¢ƒä¸­æ‰€æœ‰æœåŠ¡æ‰€éœ€çš„èµ„æºæ€»é‡ã€‚</p><p>Keep in mind that in the different environments there are also a different number of containers, and you may even need to leave some room for autoscaling, build jobs, infrastructure containers, and more. Based on this information and the infrastructure provider, you can choose the most cost-effective compute instances that provide the required resources.</p><p>è¯·è®°ä½ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸­ï¼Œå®¹å™¨çš„æ•°é‡ä¹Ÿä¸åŒï¼Œä½ ç”šè‡³å¯èƒ½éœ€è¦ä¸ºè‡ªåŠ¨ç¼©æ”¾ã€æ„å»ºä½œä¸šã€åŸºç¡€ç»“æ„å®¹å™¨ç­‰ç•™å‡ºä¸€äº›ç©ºé—´ã€‚æ ¹æ®è¿™äº›ä¿¡æ¯å’ŒåŸºç¡€ç»“æ„æä¾›å•†ï¼Œä½ å¯ä»¥é€‰æ‹©æä¾›æ‰€éœ€èµ„æºçš„æœ€ç»æµé«˜æ•ˆçš„è®¡ç®—å®ä¾‹ã€‚</p><h4 id="_2-1-3-discussion" tabindex="-1"><a class="header-anchor" href="#_2-1-3-discussion" aria-hidden="true">#</a> 2.1.3 Discussion</h4><h4 id="_2-1-3-è®¨è®º" tabindex="-1"><a class="header-anchor" href="#_2-1-3-è®¨è®º" aria-hidden="true">#</a> 2.1.3 è®¨è®º</h4><p>Containers are useful not only for process isolation and as a packaging format. With identified resource profiles, they are also the building blocks for successful capacity planning. Perform some early tests to discover the resource needs for each container and use that information as a base for future capacity planning and prediction.</p><p>å®¹å™¨ä¸ä»…å¯¹äºè¿‡ç¨‹éš”ç¦»å’ŒåŒ…è£…æ ¼å¼å¾ˆæœ‰ç”¨ã€‚é€šè¿‡ç¡®å®šèµ„æºæ¦‚å†µï¼Œå®ƒä»¬ä¹Ÿæ˜¯æˆåŠŸè¿›è¡Œèƒ½åŠ›è§„åˆ’çš„åŸºç¡€ã€‚æ‰§è¡Œä¸€äº›æ—©æœŸæµ‹è¯•ï¼Œä»¥å‘ç°æ¯ä¸ªå®¹å™¨çš„èµ„æºéœ€æ±‚ï¼Œå¹¶å°†è¿™äº›ä¿¡æ¯ç”¨ä½œæœªæ¥å®¹é‡è§„åˆ’å’Œé¢„æµ‹çš„åŸºç¡€ã€‚</p><p>However, more importantly, resource profiles are the way an application communicates with Kubernetes to assist in scheduling and managing decisions. If your application doesnâ€™t provide any requests or limits, all Kubernetes can do is treat your containers as opaque boxes that are dropped when the cluster gets full. So it is more or less mandatory for every application to think about and provide these resource declarations.</p><p>ç„¶è€Œï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œèµ„æºé…ç½®æ–‡ä»¶æ˜¯åº”ç”¨ç¨‹åºä¸Kubernetesé€šä¿¡çš„æ–¹å¼ï¼Œä»¥å¸®åŠ©è°ƒåº¦å’Œç®¡ç†å†³ç­–ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºä¸æä¾›ä»»ä½•èµ„æºéœ€æ±‚æˆ–é™åˆ¶è®¾ç½®ï¼ŒKubernetesæ‰€èƒ½åšçš„å°±æ˜¯å°†ä½ çš„å®¹å™¨è§†ä¸ºä¸é€æ˜çš„ç›’å­ï¼Œåœ¨é›†ç¾¤æ»¡æ—¶ä¸¢å¼ƒã€‚å› æ­¤ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºæˆ–å¤šæˆ–å°‘éƒ½å¿…é¡»è€ƒè™‘å¹¶æä¾›è¿™äº›èµ„æºå£°æ˜ã€‚</p><p>Now that you know how to size our applications, in Chapter 3, Declarative Deployment, you will learn multiple strategies to get our applications installed and updated on Kubernetes.</p><p>ç°åœ¨ä½ å·²ç»çŸ¥é“äº†å¦‚ä½•è°ƒæ•´åº”ç”¨ç¨‹åºçš„å¤§å°ï¼Œåœ¨ç¬¬ä¸‹ä¸€ç« â€œå£°æ˜å¼éƒ¨ç½²â€ä¸­ï¼Œä½ å°†å­¦ä¹ åœ¨Kubernetesä¸Šå®‰è£…å’Œæ›´æ–°åº”ç”¨ç¨‹åºçš„å¤šç§ç­–ç•¥ã€‚</p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Aiyin5/Aiyin5.github.io/edit/main/docs/zh/posts/æ–‡ç« ç¿»è¯‘/K8sæ¨¡å¼/K8såŸºç¡€æ¨¡å¼/å¯é¢„æµ‹çš„éœ€æ±‚.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 372020407@qq.com">aiyin</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F.html" class="nav-link prev" aria-label="ç¬¬äºŒç«  åŸºç¡€æ¨¡å¼"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><span class="icon iconfont icon-page"></span>ç¬¬äºŒç«  åŸºç¡€æ¨¡å¼</div></a><a href="/zh/posts/%E6%96%87%E7%AB%A0%E7%BF%BB%E8%AF%91/K8s%E6%A8%A1%E5%BC%8F/K8s%E5%9F%BA%E7%A1%80%E6%A8%A1%E5%BC%8F/%E5%A3%B0%E6%98%8E%E6%80%A7%E9%83%A8%E7%BD%B2.html" class="nav-link next" aria-label="åŸºç¡€æ¨¡å¼ å£°æ˜å¼éƒ¨ç½²"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">åŸºç¡€æ¨¡å¼ å£°æ˜å¼éƒ¨ç½²<span class="icon iconfont icon-page"></span></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="/about/About">å…³äºç½‘ç«™</a></div><div class="copyright">Copyright Â© 2023 è‰¾å› </div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-5055a841.js" defer></script>
  </body>
</html>
